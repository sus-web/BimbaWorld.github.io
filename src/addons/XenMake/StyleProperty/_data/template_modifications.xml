<?xml version="1.0" encoding="utf-8"?>
<template_modifications>
  <modification type="public" template="PAGE_CONTAINER" modification_key="xm_PAGE_CONTAINER_copyright" description="Adds XenMake copyright to footer." execution_order="100" enabled="1" action="str_replace">
    <find><![CDATA[{{ phrase('extra_copyright') }}]]></find>
    <replace><![CDATA[$0 | <a href="https://xentr.net/" class="u-concealed" dir="ltr" target="_blank">Xenforo Theme<span class="copyright"> &copy; by Â©XenTR</span></a>]]></replace>
  </modification>
  <modification type="admin" template="category_edit" modification_key="xm_category_edit" description="Shows images in category header." execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<xf:macro template="node_edit_macros" name="description" arg-node="{$node}" />]]></find>
    <replace><![CDATA[$0
<xf:if is="{$xf.options.xm_node_image_enable}">
<xf:uploadrow name="upload" accept=".gif,.jpeg,.jpg,.jpe,.png"
	value="{$node.node_background}" 
	label="{{ phrase('xm_select_category_image') }}"
	explain="{{ phrase('xm_block_header_explain') }}"
/>

<xf:if is="{$node.getNodeImage()}">
	<xf:formrow label="{{ phrase('xm_block_header_image') }}">
		<img src="{{ base_url($node.getNodeImage()) }}" />
	</xf:formrow>
<xf:else/>
	<xf:formrow label="{{ phrase('xm_block_header_image') }}">
		{{ phrase('xm_no_block_header_image') }}
	</xf:formrow>
</xf:if>
</xf:if>]]></replace>
  </modification>
  <modification type="admin" template="forum_edit" modification_key="xm_forum_edit" description="xm_node_icon_forum" execution_order="20" enabled="1" action="str_replace">
    <find><![CDATA[<xf:macro template="node_edit_macros" name="description" arg-node="{$node}" />]]></find>
    <replace><![CDATA[$0
<xf:if is="{$xf.options.xm_node_image_enable}">
<xf:uploadrow name="upload" accept=".gif,.jpeg,.jpg,.jpe,.png"
	value="{$node.node_background}" 
	label="{{ phrase('xtr_select_node_image') }}"
	explain="{{ phrase('xtr_node_image_description') }}"
/>

<xf:if is="{$node.getNodeImage()}">
	<xf:formrow label="{{ phrase('xtr_node_image') }}">
		<img src="{{ base_url($node.getNodeImage()) }}" />
	</xf:formrow>
<xf:else/>
	<xf:formrow label="{{ phrase('xtr_node_image') }}">
		{{ phrase('xtr_no_image_node') }}
	</xf:formrow>
</xf:if>
</xf:if>]]></replace>
  </modification>
  <modification type="admin" template="link_forum_edit" modification_key="xm_link_forum_edit" description="xm_node_icon_link_forum" execution_order="30" enabled="1" action="str_replace">
    <find><![CDATA[<xf:macro template="node_edit_macros" name="description" arg-node="{$node}" />]]></find>
    <replace><![CDATA[$0
<xf:if is="{$xf.options.xm_node_image_enable}">
<xf:uploadrow name="upload" accept=".gif,.jpeg,.jpg,.jpe,.png"
	value="{$node.node_background}" 
	label="{{ phrase('xtr_select_link_node_image') }}"
	explain="{{ phrase('xtr_link_node_image_description') }}"
/>

<xf:if is="{$node.getNodeImage()}">
	<xf:formrow label="{{ phrase('xtr_node_image') }}">
		<img src="{{ base_url($node.getNodeImage()) }}" />
	</xf:formrow>
<xf:else/>
	<xf:formrow label="{{ phrase('xtr_node_image') }}">
		{{ phrase('xtr_no_image_link_node') }}
	</xf:formrow>
</xf:if>
</xf:if>	]]></replace>
  </modification>
  <modification type="admin" template="page_edit" modification_key="xtr_page_node_icon_edit" description="Append node icon editor" execution_order="40" enabled="1" action="str_replace">
    <find><![CDATA[<xf:macro template="node_edit_macros" name="description" arg-node="{$node}" />]]></find>
    <replace><![CDATA[$0
<xf:if is="{$xf.options.xm_node_image_enable}">
<xf:uploadrow name="upload" accept=".gif,.jpeg,.jpg,.jpe,.png"
	value="{$node.node_background}" 
	label="{{ phrase('xtr_select_page_node_image') }}"
	explain="{{ phrase('xtr_page_node_image_description') }}"
/>

<xf:if is="{$node.getNodeImage()}">
	<xf:formrow label="{{ phrase('xtr_node_image') }}">
		<img src="{{ base_url($node.getNodeImage()) }}" />
	</xf:formrow>
<xf:else/>
	<xf:formrow label="{{ phrase('xtr_node_image') }}">
		{{ phrase('xtr_no_image_page_node') }}
	</xf:formrow>
</xf:if>
</xf:if>	]]></replace>
  </modification>
  <modification type="public" template="post_macros" modification_key="xm_back_to_top" description="Back to top" execution_order="100" enabled="1" action="str_replace">
    <find><![CDATA[<xf:if is="$post.isUnread()">
								<li><span class="message-newIndicator">{{ phrase('new') }}</span></li>
							</xf:if>]]></find>
    <replace><![CDATA[$0
							<li>
                                				<a href="#top" class="button--scroll" data-xf-click="scroll-to">
                                					<xf:fa icon="fa-arrow-up"/>
                                				</a>
                            				</li>]]></replace>
  </modification>
  <modification type="public" template="post_macros" modification_key="xm_firstPost" description="Fist post horizontal" execution_order="60" enabled="1" action="str_replace">
    <find><![CDATA[<article class="message message--post js-post js-inlineModContainer {{ $isIgnored ? 'is-ignored' : '' }} {{ $post.isUnread() ? ' is-unread' : '' }}"]]></find>
    <replace><![CDATA[<article class="message message--post<xf:if is="$post.position % $xf.options.messagesPerPage == 0"> is-first</xf:if> js-post js-inlineModContainer {{ $isIgnored ? 'is-ignored' : '' }} {{ $post.isUnread() ? ' is-unread' : '' }}"]]></replace>
  </modification>
</template_modifications>
